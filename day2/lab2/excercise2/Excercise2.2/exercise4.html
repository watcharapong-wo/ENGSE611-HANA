<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Exercise 4: Function Types</title>
</head>
<body>
    <h1>Function Expression & Arrow Function</h1>
    
    <div>
        <input type="number" id="num1" placeholder="เลขที่ 1" value="10">
        <input type="number" id="num2" placeholder="เลขที่ 2" value="5">
        <button onclick="calculateAll()">คำนวณทั้งหมด</button>
    </div>
    
    <div id="mathResult"></div>

    <script>
        // 1. Function Declaration (รูปแบบปกติ)
        function add(a, b) {
            return a + b;
        }

        // 2. Function Expression (กำหนดให้ตัวแปร)
        const subtract = function(a, b) {
            return a - b;
        };

        // 3. Arrow Function (รูปแบบใหม่ ES6)
        const multiply = (a, b) => {
            return a * b;
        };

        // 4. Arrow Function แบบสั้น (สำหรับ 1 บรรทัด)
        const divide = (a, b) => a / b;

        // 5. Arrow Function ไม่มี parameter
        const getRandomNumber = () => Math.floor(Math.random() * 100) + 1;

        // 6. Arrow Function มี parameter เดียว (ไม่ต้องใส่วงเล็บ)
        const square = x => x * x;

        // 7. Arrow Functions ที่สร้างเอง
        const power = (base, exponent) => Math.pow(base, exponent);
        const isEven = n => n % 2 === 0;
        const celsiusToFahrenheit = c => (c * 9/5) + 32;

        // Array ของ Functions สำหรับคำนวณพื้นฐาน
        const mathOperations = [
            { name: "บวก", func: add, symbol: "+" },
            { name: "ลบ", func: subtract, symbol: "-" },
            { name: "คูณ", func: multiply, symbol: "×" },
            { name: "หาร", func: divide, symbol: "÷" }
        ];

        function calculateAll() {
            const num1 = parseFloat(document.getElementById('num1').value);
            const num2 = parseFloat(document.getElementById('num2').value);
            
            let result = "<h3>ผลการคำนวณ:</h3>";
            
            // ใช้ forEach loop กับ Array ของ Functions
            mathOperations.forEach(operation => {
                const answer = operation.func(num1, num2);
                result += `<p>${num1} ${operation.symbol} ${num2} = ${answer}</p>`;
            });
            
            // เพิ่มการคำนวณพิเศษ
            result += `<h4>การคำนวณพิเศษ:</h4>`;
            result += `<p>กำลังสองของ ${num1} = ${square(num1)}</p>`;
            result += `<p>กำลังสองของ ${num2} = ${square(num2)}</p>`;
            result += `<p>เลขสุ่ม = ${getRandomNumber()}</p>`;

            // เพิ่ม Arrow Functions ที่สร้างเอง
            result += `<h4>ฟังก์ชันใหม่ (Arrow Functions):</h4>`;
            result += `<p>${num1} ^ ${num2} = ${power(num1, num2)}</p>`;
            result += `<p>${num1} เป็นเลขคู่หรือไม่? ${isEven(num1)}</p>`;
            result += `<p>อุณหภูมิ ${num1}°C = ${celsiusToFahrenheit(num1)}°F</p>`;
            
            document.getElementById('mathResult').innerHTML = result;
            
            // แสดงใน Console
            console.log("=== Calculator Results ===");
            console.log(`${num1} + ${num2} =`, add(num1, num2));
            console.log(`${num1} - ${num2} =`, subtract(num1, num2));
            console.log(`${num1} × ${num2} =`, multiply(num1, num2));
            console.log(`${num1} ÷ ${num2} =`, divide(num1, num2));
            console.log("Square:", square(num1), square(num2));
            console.log("Power:", power(num1, num2));
            console.log("Is Even:", isEven(num1));
            console.log("Celsius to Fahrenheit:", celsiusToFahrenheit(num1));
        }

        // ทดสอบ Functions ใน Console
        console.log("=== Function Types Demo ===");
        console.log("Function Declaration:", add(5, 3));
        console.log("Function Expression:", subtract(5, 3));
        console.log("Arrow Function:", multiply(5, 3));
        console.log("Arrow Function (short):", divide(5, 3));
        console.log("Random Number:", getRandomNumber());
        console.log("Square of 7:", square(7));
        console.log("Power 2^5 =", power(2, 5));
        console.log("IsEven 10 =", isEven(10));
        console.log("30°C =", celsiusToFahrenheit(30), "°F");
    </script>
</body>
</html>
